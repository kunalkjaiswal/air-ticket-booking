(this["webpackJsonpair-ticket-booking"]=this["webpackJsonpair-ticket-booking"]||[]).push([[0],{27:function(e,t,a){},28:function(e,t,a){},29:function(e,t,a){},56:function(e,t,a){},57:function(e,t,a){},59:function(e,t,a){"use strict";a.r(t);var s=a(2),r=a.n(s),n=a(10),l=a.n(n),i=(a(27),a(28),a(29),a(1));var c=function(e){var t=e.bannerText;return Object(i.jsx)("div",{className:"banner-section",children:Object(i.jsx)("div",{className:"banner",children:Object(i.jsx)("span",{className:"banner-text",children:t})})})},o=a(9),d=a(18),u=a(19),b=a(22),j=a(21),p=a(8),m=a.n(p),h=a(20),O=a.n(h);a(56);var g=function(e){var t=e.id,a=e.addPassengerData,s=e.index,r=e.passenger;return Object(i.jsxs)("div",{className:"passenger-section",children:[Object(i.jsx)("div",{className:"passenger-title-blk",children:Object(i.jsxs)("label",{className:"passenger-title",children:["#",s," Passenger details"]})}),Object(i.jsx)("div",{className:"passenger-data",children:Object(i.jsxs)("div",{className:"row",children:[Object(i.jsxs)("div",{className:"col-sm-4 input-blk",children:[Object(i.jsxs)("label",{className:"input-label",children:["First name",Object(i.jsx)("label",{className:"asterik",children:"*"})]}),Object(i.jsx)("input",{type:"text",className:"passenger-input",value:r.firstName,onChange:function(e){a(t,"firstName",e.target.value)}})]}),Object(i.jsxs)("div",{className:"col-sm-4 input-blk",children:[Object(i.jsx)("label",{className:"input-label",children:"Middle name"}),Object(i.jsx)("input",{type:"text",className:"passenger-input",onChange:function(e){a(t,"middleName",e.target.value)}})]}),Object(i.jsxs)("div",{className:"col-sm-4 input-blk",children:[Object(i.jsx)("label",{className:"input-label",children:"Last name"}),Object(i.jsx)("input",{type:"text",className:"passenger-input",onChange:function(e){a(t,"lastName",e.target.value)}})]}),Object(i.jsxs)("div",{className:"col-sm-4 input-blk",children:[Object(i.jsxs)("label",{className:"input-label",children:["Gender",Object(i.jsx)("label",{className:"asterik",children:"*"})]}),Object(i.jsxs)("select",{value:r.gender,className:"passenger-input",onChange:function(e){a(t,"gender",e.target.value)},children:[Object(i.jsx)("option",{value:"",children:"Select"}),Object(i.jsx)("option",{value:"Male",children:"Male"}),Object(i.jsx)("option",{value:"Female",children:"Female"}),Object(i.jsx)("option",{value:"Other",children:"Other"})]})]}),Object(i.jsxs)("div",{className:"col-sm-4 input-blk",children:[Object(i.jsxs)("label",{className:"input-label",children:["D.O.B",Object(i.jsx)("label",{className:"asterik",children:"*"})]}),Object(i.jsx)(m.a,{className:"passenger-input",onChange:function(e){a(t,"dob",e)},value:r.dob,maxDate:new Date})]}),Object(i.jsxs)("div",{className:"col-sm-4 input-blk",children:[Object(i.jsxs)("label",{className:"input-label",children:["Passport number",Object(i.jsx)("label",{className:"asterik",children:"*"})]}),Object(i.jsx)("input",{type:"text",className:"passenger-input",onChange:function(e){a(t,"passportNo",e.target.value)}})]})]})})]})},f=(a(57),function(e){Object(b.a)(a,e);var t=Object(j.a)(a);function a(e){var s;return Object(d.a)(this,a),(s=t.call(this,e)).checkSeatAvailability=function(){try{var e=s.state;if(s.setState({errorMsg:""}),s.validFormEntry()&&s.seatStatus()){for(var t=[],a=0;a<e.numberOfTravellers;a++){var r={bookingId:(new Date).getTime()+a,firstName:"",middleName:"",lastName:"",gender:"",dob:"",passportNo:""};t.push(r)}s.setState({currentPage:"passengerDetails",passengerDetails:t,errorMsg:""})}}catch(n){console.log(n)}},s.validFormEntry=function(){try{var e=s.state;return""===e.source||""===e.destination||null===e.departureDate||""===e.departureDate?(s.setState({errorMsg:"All * marked fields are mandatory."}),!1):"Round-trip"!==e.tripType||null!==e.returnDate&&""!==e.returnDate?e.source===e.destination?(s.setState({errorMsg:"From and To can't be same."}),!1):new Date(e.departureDate.setHours(0,0,0,0))<(new Date).setHours(0,0,0,0)?(s.setState({errorMsg:"Departure can't be before today's date."}),!1):!("Round-trip"===e.tripType&&new Date(e.departureDate.setHours(0,0,0,0))>=new Date(e.returnDate.setHours(0,0,0,0)))||(s.setState({errorMsg:"Departure must be before return date."}),!1):(s.setState({errorMsg:"All * marked fields are mandatory."}),!1)}catch(t){console.log(t)}},s.seatStatus=function(){try{var e,t=s.state,a=12-t.bookedSeatsDetails.filter((function(e){return e.source===t.source&&e.destination===t.destination&&t.departureDate.setHours(0,0,0,0)===e.date.setHours(0,0,0,0)})).length;return"Round-trip"===t.tripType&&(e=12-t.bookedSeatsDetails.filter((function(e){return e.source===t.destination&&e.destination===t.source&&t.returnDate.setHours(0,0,0,0)===e.date.setHours(0,0,0,0)})).length),t.departureDate.setHours(0,0,0,0)===(new Date).setHours(0,0,0,0)?(s.setState({errorMsg:"No seat is available for selected departure date."}),!1):"Round-trip"===t.tripType&&(a<t.numberOfTravellers||e<t.numberOfTravellers)?(s.setState({errorMsg:"Number of seats available for selected dates: Departure- ".concat(a," Return- ").concat(e)}),!1):!(a<t.numberOfTravellers)||(s.setState({errorMsg:"Number of seats available for selected departure date- ".concat(a)}),!1)}catch(r){console.log(r)}},s.addPassengerData=function(e,t,a){try{var r=s.state.passengerDetails,n=r.findIndex((function(t){return t.bookingId===e}));r[n][t]=a,s.setState({passengerDetails:r})}catch(l){console.log(l)}},s.confirmBooking=function(){try{var e=s.state,t=e.bookedSeatsDetails;if(s.setState({errorMsg:""}),s.validateBooking()){for(var a=Math.random().toString(36).slice(2).toUpperCase(),r=0;r<e.passengerDetails.length;r++){var n=Object(o.a)(Object(o.a)({},e.passengerDetails[r]),{},{date:e.departureDate,source:e.source,destination:e.destination,pnrNo:a});t.push(n)}if("Round-trip"===e.tripType){a=Math.random().toString(36).slice(2).toUpperCase();for(var l=0;l<e.passengerDetails.length;l++){var i=Object(o.a)(Object(o.a)({},e.passengerDetails[l]),{},{date:e.returnDate,source:e.destination,destination:e.source,pnrNo:a});t.push(i)}}O.a.fire("Success!","Your ticket is booked!","success"),s.setState({bookedSeatsDetails:t,departureDate:null,returnDate:null,source:"",destination:"",numberOfTravellers:1,tripType:"One-way",errorMsg:"",currentPage:"flightDetails",passengerDetails:[]})}}catch(c){console.log(c)}},s.validateBooking=function(){try{return!(s.state.passengerDetails.filter((function(e){return""===e.firstName||""===e.gender||""===e.dob||""===e.passportNo})).length>0)||(s.setState({errorMsg:"All * marked fields are mandatory."}),!1)}catch(e){console.log(e)}},s.state={departureDate:null,returnDate:null,source:"",destination:"",numberOfTravellers:1,tripType:"One-way",errorMsg:"",locations:["Bangalore(BLR)","San Francisco(SFO)"],currentPage:"flightDetails",bookedSeatsDetails:[],totalAvailableSeats:12,passengerDetails:[]},s}return Object(u.a)(a,[{key:"render",value:function(){var e=this,t=this.state,a=t.errorMsg,s=t.departureDate,r=t.returnDate,n=t.locations,l=t.tripType,c=t.source,o=t.destination,d=t.numberOfTravellers,u=t.currentPage,b=t.passengerDetails,j=Object(i.jsxs)("div",{className:"booking-form",children:[Object(i.jsx)("div",{className:"form-field",children:Object(i.jsxs)("div",{className:"trip-blk",children:[Object(i.jsx)("div",{className:"One-way"===l?"trip-option selected-trip":"trip-option",onClick:function(){return e.setState({tripType:"One-way"})},children:Object(i.jsx)("label",{className:"trip-type",children:"One-way"})}),Object(i.jsx)("div",{className:"Round-trip"===l?"trip-option selected-trip":"trip-option",onClick:function(){return e.setState({tripType:"Round-trip"})},children:Object(i.jsx)("label",{className:"trip-type",children:"Round-trip"})})]})}),Object(i.jsxs)("div",{className:"form-field",children:[Object(i.jsxs)("div",{className:"field-blk",children:[Object(i.jsx)("label",{className:"field-title",children:"From"}),Object(i.jsx)("label",{className:"asterik",children:"*"})]}),Object(i.jsx)("div",{className:"field-input",children:Object(i.jsxs)("select",{onChange:function(t){return e.setState({source:t.target.value})},value:c,children:[Object(i.jsx)("option",{value:"",children:"Select"}),n.map((function(e,t){return Object(i.jsx)("option",{value:e,children:e},t)}))]})})]}),Object(i.jsxs)("div",{className:"form-field",children:[Object(i.jsxs)("div",{className:"field-blk",children:[Object(i.jsx)("label",{className:"field-title",children:"To"}),Object(i.jsx)("label",{className:"asterik",children:"*"})]}),Object(i.jsx)("div",{className:"field-input",children:Object(i.jsxs)("select",{onChange:function(t){return e.setState({destination:t.target.value})},value:o,children:[Object(i.jsx)("option",{value:"",children:"Select"}),n.map((function(e,t){return Object(i.jsx)("option",{value:e,children:e},t)}))]})})]}),Object(i.jsxs)("div",{className:"form-field row",children:[Object(i.jsxs)("div",{className:"date-blk p-r-10 col-sm-6",children:[Object(i.jsxs)("div",{className:"field-blk",children:[Object(i.jsx)("label",{className:"field-title",children:"Departure"}),Object(i.jsx)("label",{className:"asterik",children:"*"})]}),Object(i.jsx)("div",{className:"field-input",children:Object(i.jsx)(m.a,{onChange:function(t){e.setState({departureDate:t})},value:s})})]}),Object(i.jsxs)("div",{className:"date-blk p-l-10 col-sm-6",children:[Object(i.jsxs)("div",{className:"field-blk",children:[Object(i.jsx)("label",{className:"field-title",children:"Return"}),"Round-trip"===l?Object(i.jsx)("label",{className:"asterik",children:"*"}):null]}),Object(i.jsx)("div",{className:"field-input",children:Object(i.jsx)(m.a,{onChange:function(t){e.setState({returnDate:t})},value:r,disabled:"One-way"===l})})]})]}),Object(i.jsxs)("div",{className:"form-field",children:[Object(i.jsxs)("div",{className:"field-blk",children:[Object(i.jsx)("label",{className:"field-title",children:"No. of travellers"}),Object(i.jsx)("label",{className:"asterik",children:"*"})]}),Object(i.jsx)("div",{className:"field-input",children:Object(i.jsx)("select",{onChange:function(t){e.setState({numberOfTravellers:t.target.value})},value:d,children:[1,2,3,4,5,6,7,8,9,10,11,12].map((function(e,t){return Object(i.jsx)("option",{value:e,children:e},t)}))})})]}),a.length>0?Object(i.jsx)("div",{className:"form-field",children:Object(i.jsx)("div",{className:"error-blk",children:Object(i.jsx)("label",{className:"errorMsg",children:a})})}):null,Object(i.jsx)("div",{className:"form-field",children:Object(i.jsx)("div",{className:"button-blk",children:Object(i.jsx)("input",{type:"button",className:"button",value:"Proceed",onClick:this.checkSeatAvailability})})})]}),p=Object(i.jsxs)("div",{children:[b.map((function(t,a){return Object(i.jsx)(g,{index:a+1,id:t.bookingId,passenger:t,addPassengerData:e.addPassengerData},a)})),a?Object(i.jsx)("div",{className:"error-blk passenger-error",children:Object(i.jsx)("label",{className:"errorMsg",children:a})}):null,Object(i.jsx)("div",{className:"button-blk",children:Object(i.jsx)("input",{type:"button",className:"button",value:"Proceed",onClick:this.confirmBooking})})]});return Object(i.jsx)("div",{className:"booking-section",children:"flightDetails"===u?j:p})}}]),a}(s.Component));var v=function(){return Object(i.jsx)("div",{className:"App",children:Object(i.jsxs)("div",{className:"main-page",children:[Object(i.jsx)(c,{bannerText:"Air Ticket Booking"}),Object(i.jsx)(f,{})]})})},x=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,61)).then((function(t){var a=t.getCLS,s=t.getFID,r=t.getFCP,n=t.getLCP,l=t.getTTFB;a(e),s(e),r(e),n(e),l(e)}))};l.a.render(Object(i.jsx)(r.a.StrictMode,{children:Object(i.jsx)(v,{})}),document.getElementById("root")),x()}},[[59,1,2]]]);
//# sourceMappingURL=main.e8424d21.chunk.js.map